import React, { Component, PropTypes as PT } from 'react';
import 'nav-frontend-snakkeboble-style'; // eslint-disable-line import/extensions
import { Panel } from 'nav-frontend-paneler';
import { Undertekst, Normaltekst } from 'nav-frontend-typografi';
import classNames from 'classnames';

const snakkebobleCls = (hoyre) => classNames('snakkeboble', {
    'snakkeboble--hoyre': hoyre, 'snakkeboble--venstre': !hoyre
});

/**
 * En snakkeboble for dialog
 */
class Snakkeboble extends Component { // eslint-disable-line react/prefer-stateless-function
    render() {
        const { dato, tekst, pilHoyre, ikonClass } = this.props;
        return (
            <div className={snakkebobleCls(pilHoyre)}>
                <i className={ikonClass} />
                <div className="snakkeboble__snakkeboble-pil-container">
                    <i className="snakkeboble__snakkebole-pil" />
                </div>
                <Panel className="snakkeboble-panel">
                    <Undertekst className="snakkeboble-panel__dato">{dato}</Undertekst>
                    <Normaltekst className="snakkeboble-panel__tekst" tag="div">{tekst}</Normaltekst>
                </Panel>
            </div>
        );
    }
}

Snakkeboble.defaultProps = {
    /**
     * Default er at pilen peker mot venstre
     */
    pilHoyre: false,
    /**
     * Gir enkel default styling på ikoner
     */
    ikonClass: 'snakkeboble__ikon'
};

Snakkeboble.propTypes = {
    /**
     * Dato for melding
     */
    dato: PT.string.isRequired,
    /**
     * Tekst for melding
     */
    tekst: PT.oneOfType([PT.string, PT.node]).isRequired,
    /**
     * Settes denne peker pilen til snakkeboblen mot høyre, og snakkeboblen og teksten i snakkeboblen flyter mot høyre.
     */
    pilHoyre: PT.bool,
    /**
     * Klasse som brukes på ikonet. Dette lar deg styre form, farge og illustrasjon.
     */
    ikonClass: PT.string
};

export default Snakkeboble;

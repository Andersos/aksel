import React, { Component, PropTypes as PT } from 'react';
import classnames from 'classnames';
import Typografi from 'nav-frontend-typografi';
import 'nav-frontend-lenkepanel-style'; // eslint-disable-line import/extensions

const cls = (className) => classnames('lenkepanel', className);
class Lenkepanel extends Component {
    render() {
        const { className, children, tittelProps, linkCreator, ...renderProps } = this.props;
        const headingConfig = typeof tittelProps === 'string' ? { type: tittelProps } : tittelProps;
        const heading = <Typografi {...headingConfig} className="lenkepanel__heading">{children}</Typografi>;

        return linkCreator({
            ...renderProps,
            className: cls(className),
            children: [heading, <span className="lenkepanel__indikator" />
            ]
        });
    }
}

Lenkepanel.propTypes = {
    className: PT.string,
    href: PT.string.isRequired,
    children: PT.oneOfType([
        PT.arrayOf(PT.node),
        PT.node
    ]).isRequired,
    tittelProps: PT.oneOfType([PT.string, PT.shape({
        type: PT.string,
        tag: PT.string
    })]),
    linkCreator: PT.func
};
Lenkepanel.defaultProps = {
    className: undefined,
    tittelProps: 'undertittel',
    linkCreator: (props) => <a {...props} /> // eslint-disable-line jsx-a11y/anchor-has-content
};

export default Lenkepanel;

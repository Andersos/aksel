/* eslint-disable react/prop-types */
import React from 'react';
import { storiesOf, action } from '@kadira/storybook';
import Collapsable from 'react-storybook-addon-sections/dist/components/groupings/collapsable';
import titleHoc from 'react-storybook-addon-sections/dist/components/title-hoc';
import Tabbable from 'react-storybook-addon-sections/dist/components/groupings/tabbable';
import Inline from 'react-storybook-addon-sections/dist/components/groupings/inline';
import ReactView from 'react-storybook-addon-sections/dist/components/sections/reactview';
import HtmlView from 'react-storybook-addon-sections/dist/components/sections/htmlview';
import CssView from 'react-storybook-addon-sections/dist/components/sections/cssview';
import ReactMarkdown from 'react-markdown';
import DokumentasjonSeksjon from './../../dokumentasjon-seksjon';
import EkspanderbartPanel from './src/index';
import readme from './README.md';
import pkg from './package.json';

const renderers = {
    Heading: ({ level, nodeKey, literal, ...props }) => {
        if (level === 1) {
            return null;
        }
        return React.createElement(`h${level + 1}`, { ...props, key: nodeKey });
    }
};
function ReadmeViewComponet(src) {
    return () => (<ReactMarkdown renderers={renderers} source={src} />);
}
const ReadmeView = (src) => titleHoc('Readme', ReadmeViewComponet(src));

storiesOf('Paneler', module)
    .addWithSections('Test sections', (_, action) => (
        <div style={{ padding: '1rem', backgroundColor: '#efefef' }}>
            <EkspanderbartPanel tittel="Test" onClick={action('ekspander')}>
                Dette er ett expandpanel
            </EkspanderbartPanel>
        </div>
    ), DokumentasjonSeksjon(pkg, readme), Tabbable(ReactView, HtmlView), Collapsable(CssView))
    .addWithSections('Ekspanderbart panel', (_, action) => (
        <div style={{ padding: '1rem', backgroundColor: '#e9e7e7' }}>
            <EkspanderbartPanel tittel="Test" tittelProps="innholdstittel" onClick={action('ekspander')}>
                Dette er ett expandpanel
            </EkspanderbartPanel>
            <EkspanderbartPanel tittel="Test" onClick={action('ekspander')}>
                Dette er ett expandpanel
            </EkspanderbartPanel>
            <EkspanderbartPanel tittel="Test" tittelProps="systemtittel" onClick={action('ekspander')}>
                Dette er ett expandpanel
            </EkspanderbartPanel>
            <EkspanderbartPanel tittel="Test" tittelProps="element" onClick={action('ekspander')}>
                Dette er ett expandpanel med element header
            </EkspanderbartPanel>
        </div>
    ), DokumentasjonSeksjon(pkg, readme),  Tabbable(ReactView, HtmlView, CssView));

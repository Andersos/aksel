import React, { Component } from 'react';
import { Input } from 'NavFrontendModules/nav-frontend-skjema';
import { guid } from 'NavFrontendModules/nav-frontend-js-utils';
// eslint-disable-next-line
import Popover from './';

export default class PopoverInputEksempel extends Component {

    constructor(props) {
        super(props);

        this.state = {
            anker: undefined
        };

        this.popoverId = guid();
    }

    togglePopover = (anker) => {
        const newState = Object.assign({}, this.state);
        newState.anker = (newState.anker) ? undefined : anker;
        this.setState(newState);
    }

    handleChange = (e) => {
        if (e.target.value && !this.state.anker) {
            this.togglePopover(e.currentTarget);
        } else if (!e.target.value) {
            this.togglePopover(undefined);
        }
    }

    render() {
        return (
            <div>
                {/*<Knapp
                    onClick={(e) => this.togglePopover(e.currentTarget)}
                    aria-expanded={this.state.anker !== undefined}
                    aria-controls={this.popoverId}
                    aria-haspopup="dialog"
                >
                    Åpne popover
                </Knapp>*/}
                <Input
                    label="Skriv noe"
                    onChange={this.handleChange}
                />
                <Popover
                    id={this.popoverId}
                    ankerEl={this.state.anker}
                    onClose={() => this.setState({ anker: undefined })}
                    orientering="under-høyre"
                    autoFokus={false}
                    utenPil
                >
                    <p style={{ padding: '1rem' }}>
                        Dette er en popover.
                    </p>
                </Popover>
            </div>
        );
    }
}

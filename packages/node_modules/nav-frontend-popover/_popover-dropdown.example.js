import React, { Component } from 'react';
import { Menyknapp } from 'NavFrontendModules/nav-frontend-ikonknapper';
import Lenke from 'NavFrontendModules/nav-frontend-lenker';
import { guid } from 'NavFrontendModules/nav-frontend-js-utils';
// eslint-disable-next-line
import Popover from './';

export default class PopoverDropdownEksempel extends Component {

    constructor(props) {
        super(props);

        this.state = {
            anker: undefined
        };

        this.popoverId = guid();
    }

    togglePopover = (anker) => {
        this.setState({ anker: this.state.anker ? undefined : anker });
    }

    render() {
        return (
            <div>
                <Menyknapp
                    onClick={(e) => this.togglePopover(e.currentTarget)}
                    aria-expanded={this.state.anker !== undefined}
                    aria-controls={this.popoverId}
                    aria-haspopup="dialog"
                >
                    <span>Dropdown meny</span>
                </Menyknapp>
                <Popover
                    id={this.popoverId}
                    ankerEl={this.state.anker}
                    onRequestClose={() => this.setState({ anker: undefined })}
                    orientering="under"
                    utenPil
                    autoFokus={false}
                    tabIndex={-1}
                >
                    <ul className="menu" style={{minWidth:190}}>
                        <li><a className="lenke" href="#" ref={(node) => node && node.focus()}>Et valg</a></li>
                        <li><Lenke href="#">Et annet valg</Lenke></li>
                        <li><Lenke href="#">Et tredje valg</Lenke></li>
                        <li><Lenke href="#">Et fjerde valg</Lenke></li>
                    </ul>
                </Popover>
            </div>
        );
    }
}

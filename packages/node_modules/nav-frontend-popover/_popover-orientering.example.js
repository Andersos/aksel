import React, { Component } from 'react';
// eslint-disable-next-line import/no-extraneous-dependencies
import { Knapp } from 'nav-frontend-knapper';
// eslint-disable-next-line import/no-extraneous-dependencies
import { Select } from 'nav-frontend-skjema';
// eslint-disable-next-line
import Popover from './';

export default class PopoverOrienteringEksempel extends Component {

    constructor(props) {
        super(props);

        this.state = {
            orientering: 'over'
        };
    }

    togglePopover = (anker) => {
        const newState = Object.assign({}, this.state);
        newState.anker = (newState.anker) ? undefined : anker;
        this.setState(newState);
    }

    render() {
        return (
            <div>
                <div style={{ width: 204 }}>
                    <Select
                        label="Velg orientering"
                        onChange={(e) => this.setState({ orientering: e.target.value })}
                        value={this.state.orientering}
                    >
                        <option selected value="over">Over</option>
                        <option value="under">Under</option>
                        <option value="høyre">Høyre</option>
                        <option value="venstre">Venstre</option>
                        <option value="over-venstre">Over venstre</option>
                        <option value="over-høyre">Over høyre</option>
                        <option value="under-venstre">Under venstre</option>
                        <option value="under-høyre">Under høyre</option>
                    </Select>
                    <Knapp onClick={(e) => this.togglePopover(e.currentTarget)}>Åpne popover</Knapp>
                </div>

                <Popover
                    ankerEl={this.state.anker}
                    onClose={() => this.setState({ anker: undefined })}
                    orientering={this.state.orientering}
                >
                    <p style={{ margin: '1rem', maxWidth: 300 }}>
                        Dette er en popover som bruker <code className="inline">orientering</code>-propen til å
                        posisjonere seg i forhold til ankeret sitt.
                    </p>
                </Popover>
            </div>
        );
    }
}

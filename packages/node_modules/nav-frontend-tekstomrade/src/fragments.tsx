import * as React from "react";
import PT from "prop-types";
import Lenke from "nav-frontend-lenker";

const httpRegex = /^(https?):\/\/.*$/;

export const SpanFragment: React.StatelessComponent<{ children: string }> = ({
  children,
  ...props
}) => {
  if (!children || children.length === 0) {
    return null;
  }
  return <span {...props}>{children}</span>;
};

export const LenkeFragment: React.StatelessComponent<{ href: string }> = ({
  href,
  ...props
}) => {
  if (!href || href.length === 0) {
    return null;
  }
  const matched = href.match(httpRegex) ? href : `http://${href}`;
  return (
    <Lenke target="_blank" href={matched} {...props}>
      {matched}
    </Lenke>
  );
};

import React from 'react';
import { storiesOf } from '@kadira/storybook';
import { Readme } from './../../dokumentasjon';
import readme from './README.md';
import './index.less';

function fixName(name) {
    return name.replace('./', '').replace('.svg', '');
}

const assetsRequire = require.context('file-loader!./assets', true, /\.svg$/);
const assets = assetsRequire
    .keys()
    .map((filename) => ({ filename, url: assetsRequire(filename) }))
    .map(({ filename, url }) => (
        <div className="nav-frontend-ikon">
            <img src={url} alt={filename} key={url} />
            <span>{fixName(filename)}</span>
        </div>
    ));

storiesOf('Ikoner (BETA)', module)
    .addWithSections('Default', () => (
        <div className="nav-frontend-ikoner">
            {assets}
        </div>
    ), Readme(readme));
